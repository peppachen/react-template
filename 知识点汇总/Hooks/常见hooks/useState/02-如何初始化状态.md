## 概览

| 初始化方式       | 使用场景                        | 代码示例                                     |
| ---------------- | ------------------------------- | -------------------------------------------- |
| 直接赋值         | 初始值是固定的简单类型值        | useStat(0)                                   |
| 函数初始化       | 初始状态计算开销较大            | useState(() => computeInitialValue())        |
| 基于props初始化  | 初始值由父组件传递的 props 决定 | useState(props.initialValue)                 |
| 使用复杂数据类型 | 状态是对象或数组                | useState({ key: value })                     |
| 异步数据         | 依赖于异步 API 请求的数据       | useState(null) 然后用 useEffect 更新         |
| 动态条件         | 初始化依赖动态逻辑              | useState(condition ? trueValue : falseValue) |

### 1. 直接赋值

```tsx
const [count, setCount] = useState(0);
```

### 2. 函数初始化

```tsx
const [count, setCount] = useState(() => {
  console.log("计算初始状态...");
  return expensiveComputation();
});

function expensiveComputation() {
  // 模拟复杂计算
  return 100;
}
```

### 3. 从父组件传递的 props 初始化

```tsx
function Child({ initialCount }) {
  const [count, setCount] = useState(initialCount);
  return <div>{count}</div>;
}

function Parent() {
  return <Child initialCount={5} />;
}
```

### 4. 使用对象或数组作为初始状态

```tsx
const [user, setUser] = useState({
  name: "七七",
  age: 25,
});

const [items, setItems] = useState([1, 2, 3]);
```

### 5. 异步数据初始化

```tsx
const [data, setData] = useState(null);

useEffect(() => {
  async function fetchData() {
    const response = await fetch("https://api.example.com/data");
    const result = await response.json();
    setData(result);
  }
  fetchData();
}, []);
```

### 6.  动态初始化

```tsx
const isDarkMode = true; // 假设这是一个动态值
const [theme, setTheme] = useState(isDarkMode ? "dark" : "light");
```

