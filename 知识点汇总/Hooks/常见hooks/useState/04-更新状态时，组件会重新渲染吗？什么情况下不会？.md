### 组件重新渲染的情况

- React对比新旧状态(浅比较)
- 如果新旧状态不同,组件会重新更新

```tsx
const [count, setCount] = useState(0);

function increment() {
  setCount(1); // 新状态与旧状态不同，触发重新渲染
}
```

### 组件不会重新渲染的情况

#### 1. 新旧状态相同,没有发生变化

```tsx
const [count, setCount] = useState(0);

function noChange() {
  setCount(0); // 状态没有变化，不会重新渲染
}
```

#### 2. 使用相同的引用更新对象或数组状态

```tsx
const [data, setData] = useState({ value: 1 });

function updateData() {
  data.value = 2; // 直接修改对象，但引用未变
  setData(data); // 引用未改变，不会触发重新渲染
}
```

#### 3. 父组件的状态更新与子组件无关

```tsx
const Child = React.memo(() => {
  console.log("子组件渲染");
  return <div>子组件</div>;
});

function Parent() {
  const [count, setCount] = useState(0);
  return (
    <div>
      <Child />
      <button onClick={() => setCount(count + 1)}>更新父组件</button>
    </div>
  );
}
```

