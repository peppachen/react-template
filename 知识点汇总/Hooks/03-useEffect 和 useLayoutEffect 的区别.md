### 1. 执行时机

- useEffect:

  - useEffect 会在浏览器绘制完成后异步执行。也就是说，它在 DOM 更新（即渲染）和浏览器的“paint”阶段之后执行。因此，useEffect 不会阻塞浏览器的绘制，适用于不需要在视图更新前执行的副作用（如数据获取、事件监听、订阅等）。

  - 执行顺序：useEffect 在所有 DOM 更新之后、浏览器绘制之前执行。

- useLayoutEffect：

  - useLayoutEffect 会在浏览器绘制之前同步执行，确保副作用在浏览器绘制前完成。这意味着它会阻塞浏览器的渲染，直到副作用执行完毕。一般来说，useLayoutEffect 用于需要立即同步进行 DOM 操作的场景，通常是修改布局、测量元素尺寸等。

  - 执行顺序：useLayoutEffect 在 DOM 更新后、浏览器绘制前执行。

### 2. 性能影响

- useEffect：
  - 由于 useEffect 是异步执行的，它不会阻塞浏览器的绘制，因此通常不会对性能产生负面影响。对于大部分副作用（如网络请求、订阅等），useEffect 是更合适的选择。

- useLayoutEffect：

- 由于 useLayoutEffect 是同步执行的，它会阻塞浏览器的渲染，直到副作用执行完毕。这可能导致页面闪烁或性能下降，尤其是在副作用执行时间较长时。通常应该避免过度使用 useLayoutEffect，除非有特定的需求（如测量 DOM 元素的尺寸）。

### 3. 常见使用场景

#### useEffect：

##### 网络请求

##### 事件监听

##### 定时器

##### 订阅

##### 操作 DOM 以外的副作用，如数据保存或清理工作

#### useLayoutEffect(需要同步操作 DOM 的情况)：

##### 获取 DOM 元素的尺寸或位置

##### 强制布局操作

##### 设置滚动位置

##### 设置样式（如动态调整布局）

